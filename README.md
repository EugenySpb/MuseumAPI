<div align="center">
  <h1>
    Museum API — REST API для управления музейными мероприятиями и записи посетителей
  </h1>
  <h2>
    Описание проекта
  </h2>
  <p>
    MuseumAPI — это REST API для управления музейными мероприятиями и записи посетителей. Данный API позволяет пользователям 
просматривать доступные мероприятия, регистрироваться на них, а сотрудникам музея управлять событиями и бронированиями через 
административные функции. Проект разработан в рамках Smart Social: Хакатон с целью внедрения в работу некоммерческих организаций.
  </p>
</div>

## Функциональные возможности

Museum API построено на **Java Spring** с использованием **PostgreSQL** для хранения данных и развертывается через **Docker**. Основные функции API включают:

- **Управление событиями**: Создание, обновление, удаление мероприятий, просмотр списка мероприятий, доступных для записи.
- **Бронирование мероприятий**: Пользователи могут регистрироваться на мероприятия по дате, времени и доступности, с подтверждением записи и отменой при необходимости.
- **Email-уведомления**: Подтверждение бронирования отправляется на email пользователя, а также автоматические напоминания о предстоящем мероприятии.
- **Безопасность**: Использование CSRF-защиты, настройки безопасности с помощью Spring Security и интеграция с SMTP для отправки уведомлений и напоминаний.

## Архитектура и основные контроллеры

Приложение построено на многоуровневой архитектуре, состоящей из контроллеров, сервисов и репозиториев.

### EventController

- **URL**: `/api/events`
- **Описание**: Управляет мероприятиями, включая создание, обновление, удаление и получение списка мероприятий.
- **Методы**:
    - `GET /api/events` — Получение списка всех мероприятий.
    - `GET /api/events/{id}` — Получение информации о мероприятии по его ID.
    - `POST /api/events/create` — Создание нового мероприятия (требуется роль **ADMIN**).
    - `PUT /api/events/{id}` — Обновление информации о мероприятии (требуется роль **ADMIN**).
    - `DELETE /api/events/{id}` — Удаление мероприятия (требуется роль **ADMIN**).

### BookingController

- **URL**: `/api/bookings`
- **Описание**: Управляет бронированием мероприятий для пользователей.
- **Методы**:
    - `GET /api/bookings` — Получение всех бронирований (требуется роль **ADMIN**).
    - `GET /api/bookings/{eventId}` — Получение бронирований для конкретного мероприятия (требуется роль **ADMIN**).
    - `POST /api/bookings/{eventId}` — Создание бронирования для указанного мероприятия.
    - `DELETE /api/bookings/{bookingId}/cancel` — Отмена бронирования.

### AdminController

- **URL**: `/api/admin`
- **Описание**: Обеспечивает доступ к операциям по созданию, изменению и удалению профилей администраторов.
- **Методы**:
    - `GET /api/admin/{id}` — Получение данных администратора по ID.
    - `POST /api/admin/create` — Создание нового администратора.
    - `PUT /api/admin/{id}` — Обновление информации о существующем администраторе.
    - `DELETE /api/admin/{id}` — Удаление администратора.
    - `POST /api/admin/logout` — Выход администратора из системы.

### CsrfTokenController

- **URL**: `/api/csrf`
- **Описание**: Предоставляет CSRF-токен для обеспечения безопасности.
- **Методы**:
    - `GET /api/csrf` — Получение CSRF-токена.

## Инструкции по установке и развертыванию

1. Тестирование и доступ к API осуществляется через Swagger UI по адресу <https://museumapi.ru/swagger-ui/index.html>.
2. Для работы с API необходим CSRF-токен, который можно получить через запрос `/api/csrf` и добавить в форму
авторизации в Swagger UI, расположенной в верхней части страницы.

***
